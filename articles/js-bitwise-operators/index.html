<!DOCTYPE html>
<!-- 
    @author <a href="mailto:leiman0311@gmail.com">Lei Ma</a>
    @time  Aug 2, 2012
-->
<html>
<head>
    <meta charset="utf-8" />
    <title>从 (97 & ~32) == 65 //true 入手js的位操作符 | WebCraft</title>
    <meta name="generator" content="Jekyll" />
    <meta name="author" content="Lei Ma" />
    <meta name="description" content="js位操作符，好好搞一下 | malei0311's Blog" />
    <meta name="keywords" content="js, bitwise operator,malei0311" />
    <!-- <meta name="baidu-tc-verification" content="df5e36c3ee0984287b85c38111c23f84" /> -->
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    
        <link rel="stylesheet" href="/js/lib/prettify/prettify.css" type="text/css" />
    
    
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <script src="/js/lib/jquery-1.7.2.min.js"></script>
</head>
<body>
    <header>
        <div id="header">
            <div class="head-cnt clearfix">
                <div id="logo-bg">
                    <span id="logo-bg-top"></span>
                    <span id="logo-bg-bottom"></span>
                </div>
                <hgroup id="caption">
                    <h1><a href="/">WebCraft</a></h1>
                    <h2>开源有意思，不断学习ing...</h2>
                </hgroup>
                <a href="http://www.w3.org/html/logo/" id="html5-logo">
                    <img src="/images/html5-badge-h-css3-semantics.png" width="165" height="64" title="HTML5 Powered with CSS3 / Styling, and Semantics">
                </a>
            </div> 
        </div>
        <div id="loading-bar">
            <div></div>
        </div>
        <script>
            $('#loading-bar div').animate({width:"15%"},500,"linear");
        </script>
        <nav id="top-nav">
            <div class="head-cnt">
                <ul>
                    <li><a href="/" class="current" rel="nofollow">Home</a></li>
                    <li><a href="/articles.html">Articles</a></li>
                    <li><a href="/tags.html">Tags</a></li>
                    <li><a href="/demos.html" >Demos</a></li>
                    <li><a href="/books.html" >Books</a></li>
                    <li><a href="/links.html" >Links</a></li>
                    <li><a href="/about.html" >About</a></li>
                    <li><a href="/atom.xml" >Rss</a></li>
                </ul>
            </div>
        </nav> 
    </header>
    
    <section id="main">
        <section class="content-cnt">
	<article class="article-main-content">
		<div class="article-title">
            <h1><a href="/articles/js-bitwise-operators">从 (97 & ~32) == 65 //true 入手js的位操作符</a></h1>
            <div class="clearfix">
                <div class="article-post-time right">
                    <span>&#8227;</span>
                    <time class="date" pubdate="2013-02-22">2013-02-22</time>
                </div>
                
                <div class="article-tags left">
                    <span class="pure-css-tag">&nbsp;</span>
                    <span class="pure-css-tag-behind left">
                        <ul>
                             
                            <li>
                                <a href="/tags.html#js">
                                    js
                                </a>
                                <span>
                                    ,
                                </span>
                            </li>
                            
                        </ul>
                    </span> 
                </div>
                
            </div>
        </div>
        <p class="description">js位操作符，好好搞一下</p>
        <div class="article-div-content">
        	<h2>先来个列表</h2>

<pre><code>操作符     用法      描述
按位与     a &amp; b     如果两个操作数对应位都是 1 的话则在该位返回 1。
按位或     a | b     如果两个操作数对应位都是 0 的话则在该位返回 0。
按位异或   a ^ b     如果两个操作数对应位只有一个 1 的话则在该位返回 1。
求反       ~ a       反转操作数的每一位。
左移       a &lt;&lt; b    将 a 的二进制形式左移 b 位。右面的空位补零。
算术右移   a &gt;&gt; b       将 a 的二进制形式右移 b 位。忽略被移出的位。
逻辑右移   a &gt;&gt;&gt; b    将 a 的二进制形式右移 b 位。忽略被移出的位，左侧补入 0。
</code></pre>

<p>先知道一点：</p>

<pre><code>数据在内存中是以二进制形式存放的。数值是以补码表示的。一个正数的补码和其原码的形式相同。
而负数的补码方式是将其绝对值的二进制形式“按位求反再加1” 
</code></pre>

<h2>二元位操作符</h2>

<h3>用作测试的函数</h3>

<p>扔到console里直接用即可</p>

<pre><code>var hex10to2 = function (o){
    //鉴于parseInt('0101') 与 parseInt(0101) 的不同结果(纠结，各浏览器应该不同，待测试)，
    //在您输入的时候请直接输入8进制数时，请直接输入数字（0101）
    //测试用，所以先只支持整数

    if(parseInt(o)){
        return parseInt(o).toString(2);
    } else{
        console.log('参数不正确，正确的参数为：1.整数 2.合法字符串（如"123","0123","0x123"）');
    }   
}

//忽略符号处理
var hex2to10 = function(str){
    //TODO:判断是否只包括 1 , 0
    return parseInt(str,2);
}
//两个函数的合并作业待做
</code></pre>

<h3>我还比较熟悉的： <code>&amp;,|,^</code> 三种，举例如下：</h3>

<p>65 &amp; 32 结果为 0</p>

<pre><code>1000001
 100000
-------
0000000
</code></pre>

<p>65 | 32 结果为 97</p>

<pre><code>1000001
 100000
-------
1100001
</code></pre>

<p>65 ^ 32 结果为 97</p>

<pre><code>1000001
 100000
-------
1100001
</code></pre>

<h3>另外~很少用，也不熟悉</h3>

<h4>详细说明</h4>

<p>取反运算符~对运算数按位取反，将运算数各位值由1变为0，或由0变为1.因为计算机中数值以带符号位二进制表示，所以取反后，最高位符号位发生变化。</p>

<p>32按位取反后结果为（-33）。我们采用32的8位二进制形式:</p>

<pre><code>hex10to2(32) =&gt; 100000 补全得：00100000
</code></pre>

<p>00100000 按位取反为 11011111，这是一个补码形式，最高位为符号位。将该补码再求补（符号位保持不变，其他位按位取反，最后加1），得到10100001，该值是带符号的真值</p>

<pre><code>hex2to10('100001'); //33
</code></pre>

<p>加个负号得：-33</p>

<h4>另外：</h4>

<pre><code>97 &amp; -33 //65
</code></pre>

<p>将 -33（10100001）符号位保持不变，其他位按位取反，最后加1，为：11011111</p>

<pre><code>01100001
11011111
--------
01000001

hex2to10('01000001'); //65
</code></pre>

<p>正如你看到的，原码和补码是可逆的, 写成</p>

<pre><code>97 &amp; ~32
</code></pre>

<p>更一目了然一些，因为我只需要去掉从右向左数的第6个 1,那个1 => 2的（6-1）次方,所以 <code>&amp;</code> 一下 <code>~32</code> 即可</p>

<h4>位操作进行加减运算</h4>

<pre><code>... 64 32 16 8 4 2 1
...  7  6  5 4 3 2 1
</code></pre>

<p>如果想让第x位变成 1，也就是加上 2 的 <code>x-1</code> 次方（如果那位不是1的话）,令 y = 2 的 <code>x-1</code> 次方</p>

<pre><code>x | y
</code></pre>

<p>如果想让第x位变成 0，也就是减去 2 的 <code>x-1</code> 次方（如果那位不是0的话）,令 y = 2 的 <code>x-1</code> 次方</p>

<pre><code>x &amp; ~ y
</code></pre>

<h3>有意思的实现</h3>

<h4>手动大小写</h4>

<p>因为javascript已经实现了（toUpperCase() and toLowerCase()）</p>

<pre><code>function isString(value){return typeof value == 'string';}

var manualLowercase = function(s) {
    return isString(s)
            ? s.replace(/[A-Z]/g, function(ch) {return String.fromCharCode(ch.charCodeAt(0) | 32);})
            : s;
};
var manualUppercase = function(s) {
    return isString(s)
            ? s.replace(/[a-z]/g, function(ch) {return String.fromCharCode(ch.charCodeAt(0) &amp; ~32);})
            : s;
};
</code></pre>

<h4>奇偶数判断</h4>

<pre><code>function isNumber(value){return typeof value == 'number';}

//利用 0 或 1 对 1 的 &amp; 运算都是原数值，可得：
var isOdd = function(num){ //奇数
    if(isNumber(num)){
        return num &amp; 1 ? true : false;
    } else{
        return false;
    }
}

var isEven = function(num){ //偶数           
    if(isNumber(num)){
        return num &amp; 1 ? false : true;
    } else{
        return false;
    }
}
</code></pre>

<h2>移位操作符</h2>

<p>移位操作符需要两个操作数：第一个是要进行移位的数值，第二个指定要对第一个数移位的数目。移位的方向由使用的操作符决定。</p>

<p>移位操作符将把两个操作符转换为 32 位整型数值，并返回与左操作数类型相同的结果。</p>

<h3>&lt;&lt; (左移)</h3>

<p>该操作符将把第一个操作数向左移若干位。移出的位将被忽略。右侧空位补零。
例如，9&lt;&lt;2 结果为 36，因为 1001 向左移两位变成 100100，这是 36。快捷算法:9 * (2的移位次方)</p>

<h3>>> (算术右移)</h3>

<p>该操作符将把第一个操作数向右移若干位。移出的位将被忽略。左侧的空位补上与原来最左面位相同的值。
例如，9>>2 结果为 2，因为 1001 右移两位变成 10，这是 2。。快捷算法:9 / (2的移位次方)</p>

<p>反之，-9>>2 结果为 -3，因为要考虑到符号位。</p>

<p>9在计算机中表示为(我们采用9的8位二进制形式)</p>

<pre><code>00001001
</code></pre>

<p>则 -9，为：</p>

<pre><code>10001001
</code></pre>

<p>重复上面的算法：符号位保持不变，其他位按位取反，最后加1，得到 -9 在计算机中的表示</p>

<pre><code>11110111
</code></pre>

<p>算数右移两位 => 补1</p>

<pre><code>11111101
</code></pre>

<p>重复补码算法</p>

<pre><code>10000011
</code></pre>

<p>得到 -3</p>

<h3>>>> (逻辑右移)</h3>

<p>该操作符将把第一个操作数向右移若干位。移出的位将被忽略。左侧的空位补零。
例如，19>>>2 结果为 4，因为 10011 右移两位变成 100，这是 4。对于非负数，算术右移和逻辑右移结果相同。</p>

<p>那么负数呢？</p>

<p>-9>>2 结果为 ?</p>

<p>9在计算机中表示为(我们采用9的8位二进制形式)</p>

<pre><code>00001001
</code></pre>

<p>则 -9，为：</p>

<pre><code>10001001
</code></pre>

<p>重复上面的算法：符号位保持不变，其他位按位取反，最后加1，得到 -9 在计算机中的表示</p>

<pre><code>11110111
</code></pre>

<p>逻辑右移两位 => 补0</p>

<pre><code>00111101
</code></pre>

<p>因为变成正数了，所以不用重复补码算法了</p>

<p>计算机采用的是32位二进制形式，所以</p>

<pre><code>0011...1101 //中间是30个1
</code></pre>

<p>得到 1073741821</p>

<pre><code>hex10to2(1073741821) //111111111111111111111111111101
"111111111111111111111111111101".length //30,略去了前面两个0
</code></pre>

<h2>Reference</h2>

<p><a href="http://blog.malei.tk/negative-number-binary" title="原码，反码，补码">原码，反码，补码</a></p>

        </div>
        <div class="share clearfix">
            <em class="share-plain-text">分享到：</em>
            <span class="sina-ico"></span>
            <span class="twitter-ico"></span>
            <span class="google-ico"></span>
            <span class="tencent-ico"></span>
        </div>
        <nav class="article-bottom-nav clearfix">
            
                <a class="left" href="/articles/nodejs-debug" rel="bookmark" title="旧一篇">&laquo;&nbsp;Node.js的调试</a>
            
            
                <a class="right" href="/articles/linux-study" rel="bookmark" title="新一篇">菜鸟学习linux&nbsp;&raquo;</a>
            
        </nav>
        <div class="clearfix">
            <div id="relatedArticles">
                <h3>相关阅读</h3>
                <ul>
                 
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                            
                                
                                    <li><a href="/articles/js-bitwise-operators" title="从 (97 & ~32) == 65 //true 入手js的位操作符">&raquo;&nbsp;从 (97 & ~32) == 65 //true 入手js的位操作符</a></li>
                                
                            
                                
                                    <li><a href="/articles/how-to-detect-variable-type" title="JavaScript如何判断变量类型">&raquo;&nbsp;JavaScript如何判断变量类型</a></li>
                                
                            
                                
                                    <li><a href="/articles/baidu-examination" title="XX-web前端开发工程师-笔试+面试-经历">&raquo;&nbsp;XX-web前端开发工程师-笔试+面试-经历</a></li>
                                
                            
                                
                                    <li><a href="/articles/js-insertAfter" title="insertAfter()?">&raquo;&nbsp;insertAfter()?</a></li>
                                
                            
                                
                                    <li><a href="/articles/java-vs-javascript" title="Java vs JavaScript">&raquo;&nbsp;Java vs JavaScript</a></li>
                                
                            
                                
                                    <li><a href="/articles/3D-jquery" title="JQuery插件之tags的3D旋转球制作">&raquo;&nbsp;JQuery插件之tags的3D旋转球制作</a></li>
                                
                            
                                
                                    <li><a href="/articles/random-color" title="容器透明，内容不透明，随机变色">&raquo;&nbsp;容器透明，内容不透明，随机变色</a></li>
                                
                            
                                
                                    <li><a href="/articles/articlesLayout-directory" title="articlesLayout构建之右侧目录索引">&raquo;&nbsp;articlesLayout构建之右侧目录索引</a></li>
                                
                            
                                
                                    <li><a href="/articles/water-fall-layout" title="Demos界面的伪瀑布流布局的实现">&raquo;&nbsp;Demos界面的伪瀑布流布局的实现</a></li>
                                
                            
                                
                                    <li><a href="/articles/tags-js-liquid" title="Tags界面构建之123">&raquo;&nbsp;Tags界面构建之123</a></li>
                                
                            
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                     
                    
                        
                    
                
                </ul>
            </div>
            <div id="recentPosts">
                <h3>最新发布</h3>
                <ul>
                   
                    <li>
                        <a href="/demos/xx-slides" title="slides" rel="bookmark">&raquo;&nbsp;slides</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/ubuntu-wine" title="wine 你懂的" rel="bookmark">&raquo;&nbsp;wine 你懂的</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/screen-sh" title="传说中的 screen" rel="bookmark">&raquo;&nbsp;传说中的 screen</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/ubuntu-xrandr-sh" title="xrandr 命令小用" rel="bookmark">&raquo;&nbsp;xrandr 命令小用</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/drupal-theme" title="Drupal 主题开发" rel="bookmark">&raquo;&nbsp;Drupal 主题开发</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/linux-study" title="菜鸟学习linux" rel="bookmark">&raquo;&nbsp;菜鸟学习linux</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/nodejs-debug" title="Node.js的调试" rel="bookmark">&raquo;&nbsp;Node.js的调试</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/happy-new-year-2013" title="写在新年第一天" rel="bookmark">&raquo;&nbsp;写在新年第一天</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/ubuntu-github-git-jekyll" title="ubuntu配置github+git+jekyll环境" rel="bookmark">&raquo;&nbsp;ubuntu配置github+git+jekyll环境</a>
                    </li>                                   
                   
                    <li>
                        <a href="/articles/sublime_text_2-vs-ubuntu%2BiBus" title="Sublime Text 2 如何在 Ubuntu+iBus 下输入中文？" rel="bookmark">&raquo;&nbsp;Sublime Text 2 如何在 Ubuntu+iBus 下输入中文？</a>
                    </li>                                   
                
                </ul>
            </div>
        </div>
        <div>
            <h3>留下一句吧</h3>
            <div id="disqus_thread"></div>
        </div>
	</article>
    <aside id="menuIndex" class="right">
	
	</aside>
</section>

<!--<script>
	$(function(){
		Chocolate.includeScript('/js/lib/prettify/prettify.js',function(){});
		Chocolate.includeScript('/js/articles_layout.js',function(){});
	})
</script>-->
    </section>
    <div class="go-top">
        <a href="#i-will-top" id="go-top" class="clearfix"><span class="go-top-icon"></span></a>
    </div>
    <footer>
        <div class="footer-cnt">
            <section class="chocolate-theme left">
                <p>Powered by <a href="http://jekyllrb.com" target="_blank" rel="nofollow">Jekyll</a>. &lceil;Chocolate&rfloor; is designed by <a href="http://webcraft.malei.tk" rel="nofollow">Lei Ma</a>.</p>
            </section>
            <section class="chocorate-copyright right">
                <p>© 2013 WebCraft All rights reserved.</p>
            </section>
            <a href="https://github.com/malei0311/myBlog" target="_blank" id="forkme">Fork Me</a>
        </div>
    </footer>
    <div id="footer-scripts" class="none">
        <script src="/js/lib/slides.min.jquery.js"></script>
        <script src="/js/chocolate.js"></script>
        
            <script src="/js/lib/prettify/prettify.js"></script>
            <script>
                $(function(){
                    $('pre').addClass('prettyprint linenums'); //添加Google code Hight需要的class
                    prettyPrint();
                    Chocolate.share();
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'malei0311'; /* required: replace example with your forum shortname*/
                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();

                    if($('.article-div-content>h2').length > 2){
                        var h2 = [],h3 = [],tmpl = '<ul>',h2index = 0;
            
                        $.each($('.article-div-content>h2,.article-div-content>h3'),function(index,item){
                            if(item.tagName.toLowerCase() == 'h2'){
                                var h2item = {};
                                h2item.name = $(item).text();
                                h2item.id = 'menuIndex'+index;
                                h2.push(h2item);
                                h2index++;
                            }else{
                                var h3item = {};
                                h3item.name = $(item).text();
                                h3item.id = 'menuIndex'+index;
                                if(!h3[h2index-1]){
                                    h3[h2index-1] = [];
                                }
                                h3[h2index-1].push(h3item);
                            }
                            item.id = 'menuIndex' + index
                        });
            
                        //添加h1
                        tmpl += '<li class="h1"><a href="#" data-top="0">'+$('.article-title>h1').text()+'</a></li>';
            
                        for(var i=0;i<h2.length;i++){
                            tmpl += '<li><a href="#" data-id="'+h2[i].id+'">'+h2[i].name+'</a></li>';
                            if(h3[i]){
                                for(var j=0;j<h3[i].length;j++){
                                    tmpl += '<li class="h3"><a href="#" data-id="'+h3[i][j].id+'">'+h3[i][j].name+'</a></li>';
                                }
                            }
                        }
                        tmpl += '</ul>';
            
                        var $scrollable = Chocolate.findScrollableElement('body','html');
                        // alert($scrollable);
                        // $('body').append('<div id="menuIndex"></div>');
                        $('#menuIndex').append($(tmpl)).delegate('a','click',function(e){
                            e.preventDefault();
                            var scrollNum = $(this).attr('data-top') || $('#'+$(this).attr('data-id')).offset().top;
                            //window.scrollTo(0,scrollNum-30);
                            // $(window).scrollTop(scrollNum-30);
                            // Chocolate.goThere(scrollNum-30,$(window).scrollTop(),0);
                            $scrollable.animate({ scrollTop: scrollNum-30 }, 400, 'swing');
                        })
            
                        $(window).load(function(){
                            var scrollTop = [];
                            $.each($('#menuIndex li a'),function(index,item){
                                if(!$(item).attr('data-top')){
                                    var top = $('#'+$(item).attr('data-id')).offset().top;
                                    scrollTop.push(top);
                                    $(item).attr('data-top',top);
                                }
                            });
                            $(window).bind('scroll',function(){
                                // alert($('body').scrollTop());
                                var nowTop = $(window).scrollTop(),index,length = scrollTop.length;
                                if(nowTop+60 > scrollTop[length-1]){
                                    index = length
                                }else{
                                    for(var i=0;i<length;i++){
                                        if(nowTop+60 <= scrollTop[i]){
                                            index = i;
                                            break;
                                        }
                                    }
                                }
                                $('#menuIndex li').removeClass('on')
                                $('#menuIndex li').eq(index).addClass('on')
                            });
                        });
            
                        // //用js计算屏幕的高度
                        // $('#menuIndex').css('max-height',$(window).height()-140);
                    }
                });
                $(function() {
                    // $(window).bind("scroll", function(){
                    //     var menuIndex_scrHeight = $(window).scrollTop(),menuIndex_topHeight;
                    //     if(menuIndex_scrHeight > 140 && ($(window).height()-60)>$('#menuIndex').height()) {
                    //         menuIndex_topHeight = menuIndex_scrHeight-140;
                    //         $('#menuIndex').animate({top: menuIndex_topHeight},10);
                    //     } 
                    //     else{
                    //         $('#menuIndex').animate({top: 0},10);
                    //     }
                    // });
                    $(window).bind("scroll", function(){
                        var menuIndex_scrHeight = $(window).scrollTop(),menuIndex_topHeight;
                        var footerOffsetTop=$('footer').offset().top;
                        if(menuIndex_scrHeight > 140 && menuIndex_scrHeight<(footerOffsetTop-$('#menuIndex').height()) && $(window).height()>$('#menuIndex').height()) {
                            menuIndex_topHeight = menuIndex_scrHeight-140;
                            $('#menuIndex').animate({top: menuIndex_topHeight},10);
                        } 
                        else{
                            $('#menuIndex').animate({top: 0},10);
                        }
                    });
                });
                $(function(){ 
                    var originArticles=$('#relatedArticles ul li');
                    for(var i=0;i<originArticles.length-1;i++){
                        for(var j=i+1;j<originArticles.length;j++){
                            if(originArticles.eq(i).children('a').attr('href') == originArticles.eq(j).children('a').attr('href')){
                                originArticles.eq(j).remove();
                            }
                        }
                    }
                    var secondArticles=$('#relatedArticles ul li');
                    for(var i=0;i<secondArticles.length;i++){
                        if(secondArticles.length == 1){
                            $('#relatedArticles ul').html("<li>&raquo;&nbsp;悲剧了，与之相关的文章还没生出来呢</li>");
                        }
                        if(secondArticles.eq(i).children('a').attr('href') == $('div.article-title>h1>a').attr('href')){
                            secondArticles.eq(i).remove();
                        }
                    }
                    var thirdArticles=$('#relatedArticles ul li');
                    if(thirdArticles.length > 10){
                        for(var i=10;i<thirdArticles.length;i++){
                            thirdArticles.eq(i).remove();
                        }
                    }
                    // alert(originArticles.length+" "+secondArticles.length+" "+thirdArticles.length);
                    
                })
            </script>
            
        
        
        
        
        
        
        
        <script>
            $(function(){
                $('#main').css('min-height',$(window).height()-196);
                $('#loading-bar div').animate({width:"100%"},200,"swing"); 
                var scrHeight, topId;
                topId = $("#go-top");
                $(window).bind("scroll", function(){
                    scrHeight = $(window).scrollTop();
                    if(scrHeight > 500) {
                        topId.css('display','block');
                        topId.fadeIn(1500);
                    } else {
                        topId.fadeOut(1500);
                    }
                });
                topId.click(function() {
                    // $('body, html').animate({scrollTop: 0}, 1200);
                    Chocolate.goTop();
                });   
            });      
        </script>
    </div>
</body>
</html>
